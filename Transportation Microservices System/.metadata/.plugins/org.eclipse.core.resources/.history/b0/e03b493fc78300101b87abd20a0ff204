package com.example.booking_service.model;


import java.time.Instant;
import java.time.LocalDateTime;

import jakarta.persistence.Entity;
import jakarta.persistence.EnumType;
import jakarta.persistence.Enumerated;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;
import jakarta.persistence.PrePersist;
import jakarta.persistence.PreUpdate;

@Entity
public class Booking {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long bookingId;

    private Long customerId;

    private Long vehicleId;

    private Long driverId; 

    private Long routeId;   

    private Instant bookingDate;
    
    @Enumerated(EnumType.STRING)
	private BookingStatus status;  

    private LocalDateTime createdAt;
	 private LocalDateTime updatedAt;
	 
	 

	public Long getBookingId() {
		return bookingId;
	}

	 public void setBookingId(Long bookingId) {
		 this.bookingId = bookingId;
	 }

	 public Long getCustomerId() {
		 return customerId;
	 }

	 public void setCustomerId(Long customerId) {
		 this.customerId = customerId;
	 }

	 public Long getVehicleId() {
		 return vehicleId;
	 }

	 public void setVehicleId(Long vehicleId) {
		 this.vehicleId = vehicleId;
	 }

	 public Long getDriverId() {
		 return driverId;
	 }

	 public void setDriverId(Long driverId) {
		 this.driverId = driverId;
	 }

	 public Long getRouteId() {
		 return routeId;
	 }

	 public void setRouteId(Long routeId) {
		 this.routeId = routeId;
	 }

	 public Instant getBookingDate() {
		 return bookingDate;
	 }

	 public void setBookingDate(Instant bookingDate) {
		 this.bookingDate = bookingDate;
	 }

	 public BookingStatus getStatus() {
		 return status;
	 }

	 public void setStatus(BookingStatus status) {
		 this.status = status;
	 }

	 public LocalDateTime getCreatedAt() {
		 return createdAt;
	 }

	 public void setCreatedAt(LocalDateTime createdAt) {
		 this.createdAt = createdAt;
	 }

	 public LocalDateTime getUpdatedAt() {
		 return updatedAt;
	 }

	 public void setUpdatedAt(LocalDateTime updatedAt) {
		 this.updatedAt = updatedAt;
	 }

	@PrePersist
	 public void onCreate() {
	 createdAt = LocalDateTime.now();
	 updatedAt = createdAt;
	 }

	    @PreUpdate
	    public void onUpdate() {
	        updatedAt = LocalDateTime.now();
	    }

}
